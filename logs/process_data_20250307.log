[2025-03-07 17:13:37] 启动后台定时执行模式，每5分钟执行一次
[2025-03-07 17:13:37] 开始新的迭代 - 2025-03-07 17:13:37
[2025-03-07 17:13:37] ================================================
[2025-03-07 17:13:37]       客服数据处理流程自动化脚本 v2.0 (后台定时版)
[2025-03-07 17:13:37] ================================================
[2025-03-07 17:13:37] 开始执行处理流程
[2025-03-07 17:13:37] === 步骤1: 从MySQL导出数据到TXT ===
[2025-03-07 17:13:37] 执行: python mysql_to_txt.py
开始从MySQL导出数据到文本文件...
连接尝试 1/3...
连接失败: 2003: Can't connect to MySQL server on 'localhost:13306' (61 Connection refused)
等待 5 秒后重试...
连接尝试 2/3...
连接失败: 2003: Can't connect to MySQL server on 'localhost:13306' (61 Connection refused)
等待 5 秒后重试...
连接尝试 3/3...
连接失败: 2003: Can't connect to MySQL server on 'localhost:13306' (61 Connection refused)
达到最大重试次数，放弃连接
Traceback (most recent call last):
  File "/Users/yangsan/Library/Python/3.7/lib/python/site-packages/mysql/connector/network.py", line 600, in open_connection
    self.sock.connect(sockaddr)
ConnectionRefusedError: [Errno 61] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "mysql_to_txt.py", line 215, in <module>
    main()
  File "mysql_to_txt.py", line 178, in main
    connection = connect_to_mysql_with_retry()
  File "mysql_to_txt.py", line 32, in connect_to_mysql_with_retry
    connection = mysql.connector.connect(**DB_CONFIG)
  File "/Users/yangsan/Library/Python/3.7/lib/python/site-packages/mysql/connector/pooling.py", line 294, in connect
    return MySQLConnection(*args, **kwargs)
  File "/Users/yangsan/Library/Python/3.7/lib/python/site-packages/mysql/connector/connection.py", line 164, in __init__
    self.connect(**kwargs)
  File "/Users/yangsan/Library/Python/3.7/lib/python/site-packages/mysql/connector/abstracts.py", line 1181, in connect
    self._open_connection()
  File "/Users/yangsan/Library/Python/3.7/lib/python/site-packages/mysql/connector/connection.py", line 570, in _open_connection
    self._socket.open_connection()
  File "/Users/yangsan/Library/Python/3.7/lib/python/site-packages/mysql/connector/network.py", line 609, in open_connection
    ) from err
mysql.connector.errors.InterfaceError: 2003: Can't connect to MySQL server on 'localhost:13306' (61 Connection refused)
[2025-03-07 17:13:48] ✗ MySQL数据导出失败，错误代码: 1
[2025-03-07 17:13:48] 本次执行完成，将在5分钟后再次执行
[2025-03-07 17:13:48] --------------------------------------------
